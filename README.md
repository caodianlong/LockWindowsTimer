# WinLockTimer - 家长控制电脑使用时间程序

<div align="right">
  <b>语言:</b>
  <a href="README.md">中文</a> |
  <a href="README.en.md">English</a>
</div>

## 项目简介

WinLockTimer 是一个简单的Windows桌面应用程序，专门为家长设计，用于控制孩子使用电脑的时间。程序启动一个倒计时器，在倒计时结束前会弹出提醒，倒计时结束后自动锁屏，可以设置密码防止孩子未经允许停止计时。

## 功能特点

### 核心功能
- **倒计时设置**: 支持小时和分钟设置
- **倒计时提醒**: 在结束前10、5、4、3、2、1分钟弹出提醒
- **自动锁屏**: 倒计时结束后自动执行Windows锁屏
- **暂停/继续**: 支持暂停和继续倒计时
- **重置功能**: 随时重置倒计时

### 安全功能
- **家长密码保护**: 设置家长密码后，暂停、重置和关闭程序需要密码验证
- **AES加密存储**: 家长密码使用AES-128加密存储在本地
- **多提醒方式**: 支持弹窗提醒、语音提醒或两者结合
- **设置持久化**: 密码和提醒方式设置自动保存和恢复

### 用户界面
- 简洁直观的中文界面
- 大字体显示剩余时间
- 状态实时显示
- 颜色提示（蓝色→橙色→红色）

## 系统要求

- Windows 10 或更高版本
- .NET 7.0 Runtime 或更高版本

## 使用方法

### 基本使用
1. **设置时间**: 在"设置时间"区域输入小时和分钟
2. **开始倒计时**: 点击"开始"按钮启动倒计时
3. **暂停/继续**: 点击"暂停"按钮暂停，点击"继续"按钮继续
4. **重置**: 点击"重置"按钮停止并重置倒计时
5. **自动提醒**: 程序会在指定时间点弹出提醒
6. **自动锁屏**: 倒计时结束后自动锁屏

### 家长密码保护
1. **设置密码**: 在"设置"区域的"家长密码"框中输入密码
2. **选择提醒方式**: 从下拉框选择提醒方式（弹窗、语音或两者）
3. **密码验证**: 设置密码后，暂停、重置和关闭程序需要输入密码
4. **清除设置**: 点击"清除设置"按钮可以删除保存的密码和设置

### 提醒方式
- **弹窗提醒**: 显示文字提醒对话框
- **语音提醒**: 播放系统提示音
- **两者结合**: 同时显示弹窗和播放提示音

## 提醒时间点

- 倒计时结束前10分钟
- 倒计时结束前5分钟
- 倒计时结束前4分钟
- 倒计时结束前3分钟
- 倒计时结束前2分钟
- 倒计时结束前1分钟（特别提醒）

## 技术实现

- **开发语言**: C#
- **GUI框架**: Windows Forms (WinForms)
- **目标平台**: Windows 10/11
- **.NET版本**: .NET 7.0
- **加密算法**: AES-128 (CBC模式，PKCS7填充)
- **数据存储**: JSON格式设置文件，密码AES加密存储
- **锁屏机制**: Windows系统命令锁屏

## 构建说明

### 使用Visual Studio
1. 打开 `WinLockTimer.sln`
2. 构建项目
3. 运行程序

### 使用.NET CLI
```bash
cd WinLockTimer
dotnet build
dotnet run
```

## 部署

程序可以构建为独立的可执行文件，无需安装即可运行。

## 安全说明

### 密码存储安全
- 家长密码使用AES-128算法加密存储
- 加密密钥固定，存储在程序内部
- 密码以Base64编码的加密形式保存在本地设置文件中
- 每次程序启动时自动解密并加载密码

### 操作保护
- 设置密码后，敏感操作（暂停、重置、关闭）需要密码验证
- 倒计时运行中关闭程序需要密码确认
- 清除设置功能可以安全删除保存的密码

## 注意事项

- 程序使用标准的Windows锁屏功能，不会修改系统设置
- 退出程序时会检查是否有运行中的倒计时
- 程序界面简洁，适合家长使用
- 密码保护功能可选，不设置密码时可直接操作
- 提醒方式可根据需要选择，避免打扰

## 更新日志

### v1.1.0 (最新)
- 新增家长密码保护功能
- 实现AES-128加密密码存储
- 添加多种提醒方式选择
- 增加设置持久化功能
- 优化用户界面和操作流程

### v1.0.0
- 基础倒计时功能
- 多时间点提醒
- 自动锁屏功能
- 暂停/继续/重置控制

## 许可证

此项目为开源软件，遵循MIT许可证。
